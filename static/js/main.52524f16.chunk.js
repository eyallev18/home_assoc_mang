(this.webpackJsonphome_assoc_mang=this.webpackJsonphome_assoc_mang||[]).push([[0],{269:function(e,t,a){},395:function(e,t,a){e.exports=a(921)},399:function(e,t,a){},400:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},401:function(e,t,a){},402:function(e,t,a){},408:function(e,t,a){},675:function(e,t,a){},690:function(e,t){},692:function(e,t){},701:function(e,t){},703:function(e,t){},737:function(e,t){},738:function(e,t){},740:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=740},760:function(e,t,a){},761:function(e,t,a){},762:function(e,t,a){},763:function(e,t,a){},764:function(e,t,a){},767:function(e,t,a){},768:function(e,t,a){},860:function(e,t,a){},861:function(e,t,a){},919:function(e,t,a){},920:function(e,t,a){},921:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(60),l=a.n(o),i=(a(399),a(38)),s=a(12),c=a(15),m=a(17),u=a(16),d=a(14),h=a(18),p=(a(400),a(269),a(98)),g=a(936),b=a(932),y=a(934),v=(a(163),a(401),a(931)),E=a(933),C=a(380),f=a(381),w=(a(402),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={lname:"",email:"",pwd:"",pwdv:"",City:"",street:"",building:"",apartment:"",isCommitteeMember:!0,community:null,backupemail:""},a.handleInputChange=a.handleInputChange.bind(Object(d.a)(a)),a.createCommitteeUser=a.createCommitteeUser.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(i.a)({},n,a))}},{key:"createCommitteeUser",value:function(){var e=this.state,t=e.lname,a=e.email,n=e.pwd,r=(e.pwdv,e.apartment),o=e.street,l=e.building,i=e.City,s={lname:t,email:a,pwd:n,apartment:r,isCommitteeMember:e.isCommitteeMember,City:i,street:o,building:l,backupemail:e.backupemail};this.props.handleNewCommitteeUser(s),this.props.handleClose(),this.setState({lname:"",email:"",pwd:"",pwdv:"",apartment:"",street:"",building:"",City:"",isCommitteeMember:!0,community:null})}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.handleClose,n=(e.handleLogin,this.state),o=n.lname,l=n.email,i=n.pwd,s=n.pwdv,c=n.apartment,m=n.City,u=n.street,d=n.building;return n.redirectToDashBoardPage?r.a.createElement(p.a,{to:"/dashboard"}):r.a.createElement(v.a,{className:"align_right",show:t,onHide:a},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,"\u05e8\u05d9\u05e9\u05d5\u05dd \u05d7\u05d1\u05e8 \u05d5\u05e2\u05d3")),r.a.createElement(v.a.Body,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{controlId:"formGridZip1"},"\u05e9\u05dd \u05d3\u05d9\u05d9\u05e8"),r.a.createElement(E.a.Control,{name:"lname",value:o,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05d7\u05d1\u05e8 \u05d5\u05e2\u05d3",onChange:this.handleInputChange})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{controlId:"formGridZip1"},"\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc"),r.a.createElement(E.a.Control,{name:"email",value:l,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc",onChange:this.handleInputChange})),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{as:C.a,controlId:"formGridZip3"},"\u05e1\u05d9\u05e1\u05de\u05d0 "),r.a.createElement(E.a.Control,{name:"pwd",value:i,type:"password",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e1\u05d9\u05e1\u05de\u05d0 ",onChange:this.handleInputChange})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{as:C.a,controlId:"formGridZip4"},"\u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d0 "),r.a.createElement(E.a.Control,{name:"pwdv",value:s,type:"password",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e1\u05d9\u05e1\u05de\u05d0 \u05e9\u05d5\u05d1 ",onChange:this.handleInputChange}))),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{as:C.a,controlId:"formGridZip5"},"\u05e2\u05d9\u05e8"),r.a.createElement(E.a.Control,{name:"City",value:m,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05e2\u05d9\u05e8",onChange:this.handleInputChange})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{as:C.a,controlId:"formGridZip6"},"\u05e8\u05d7\u05d5\u05d1"),r.a.createElement(E.a.Control,{name:"street",value:u,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05e8\u05d7\u05d5\u05d1 ",onChange:this.handleInputChange}))),r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{as:C.a,controlId:"formGridZip7"}," \u05de\u05e1\u05e4\u05e8 \u05d1\u05d9\u05ea"),r.a.createElement(E.a.Control,{name:"building",value:d,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05de\u05e1\u05e4\u05e8 \u05d1\u05d9\u05ea ",onChange:this.handleInputChange})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{as:C.a,controlId:"formGridZip8"}," \u05de\u05e1\u05e4\u05e8 \u05d3\u05d9\u05e8\u05d4"),r.a.createElement(E.a.Control,{name:"apartment",value:c,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05de\u05e1\u05e4\u05e8  \u05d3\u05d9\u05e8\u05d4 ",onChange:this.handleInputChange}))))),r.a.createElement(v.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:a},"\u05d1\u05d8\u05dc"),r.a.createElement(f.a,{variant:"success",onClick:this.createCommitteeUser},"\u05e6\u05d5\u05e8")))}}]),t}(n.Component)),O=(a(408),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={lname:"",email:"",pwd:"",apartment:"",isCommitteeMember:!1,community:null},a.handleInputChange=a.handleInputChange.bind(Object(d.a)(a)),a.createTanantUser=a.createTanantUser.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(i.a)({},n,a))}},{key:"createTanantUser",value:function(){var e=this.state,t={lname:e.lname,email:e.email,pwd:e.pwd,apartment:e.apartment,isCommitteeMember:e.isCommitteeMember};this.props.handleNewTanantUser(t),this.props.handleClose(),this.setState({lname:"",email:"",pwd:"",apartment:"",isCommitteeMember:!1,community:null})}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.handleClose,n=(e.handleLogin,this.state),o=n.lname,l=n.email,i=n.pwd,s=n.apartment;return r.a.createElement(v.a,{className:"align_right",show:t,onHide:a},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,"\u05e8\u05d9\u05e9\u05d5\u05dd \u05d3\u05d9\u05d9\u05e8 \u05d1\u05d1\u05e0\u05d9\u05df")),r.a.createElement(v.a.Body,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{controlId:"formGridZip9"},"\u05e9\u05dd \u05d3\u05d9\u05d9\u05e8"),r.a.createElement(E.a.Control,{name:"lname",value:o,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05d3\u05d9\u05d9\u05e8 ",onChange:this.handleInputChange})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{controlId:"formGridZip10"},"\u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc"),r.a.createElement(E.a.Control,{name:"email",value:l,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05db\u05ea\u05d5\u05d1\u05ea \u05d0\u05d9\u05de\u05d9\u05d9\u05dc",onChange:this.handleInputChange})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{controlId:"formGridZip11"},"\u05e1\u05d9\u05e1\u05de\u05d0 "),r.a.createElement(E.a.Control,{name:"pwd",value:i,type:"password",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e1\u05d9\u05e1\u05de\u05d0 ",onChange:this.handleInputChange})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,{controlId:"formGridZip12"}," \u05de\u05e1\u05e4\u05e8 \u05d3\u05d9\u05e8\u05d4"),r.a.createElement(E.a.Control,{name:"apartment",value:s,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05de\u05e1\u05e4\u05e8  \u05d3\u05d9\u05e8\u05d4 ",onChange:this.handleInputChange})))),r.a.createElement(v.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:a},"\u05d1\u05d8\u05dc"),r.a.createElement(f.a,{variant:"success",onClick:this.createTanantUser},"\u05e6\u05d5\u05e8")))}}]),t}(n.Component)),j=a(10),x=a.n(j),k=function e(t){Object(s.a)(this,e),this.id=t.id,this.lname=t.get("username"),this.email=t.get("email"),this.apartment=t.get("apartment"),this.isCommitteeMember=t.get("isCommitteeMember"),this.community=t.get("community"),this.backupemail=t.get("backupemail")},U=(a(675),function(e){function t(e){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.handleClose,n=e.titleText,o=e.bodyText1,l=e.bodyText2,i=e.bodyText3,s=e.bodyText4,c=e.colorstyle;return r.a.createElement(v.a,{className:"align_right",show:t,onHide:a},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,{className:"myModalCss",style:c}," ",n,"  ")),r.a.createElement(v.a.Body,{className:"myModalCss"},r.a.createElement("p",null," ",o),r.a.createElement("p",null,l),r.a.createElement("p",null,i),r.a.createElement("p",null,s)),r.a.createElement(v.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:a},"\u05e1\u05d2\u05d5\u05e8")))}}]),t}(n.Component)),N=(a(676),a(192)),T=a.n(N),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={showNewCommitteeModal:!1,showNewTanantModal:!1,showSignUpModal:!1,committeeUser:!1,redirectToDashBoardPage:!1,titleText:"",bodyText1:"",bodyText2:"",bodyText3:"",bodyText4:""},a.handleClose=a.handleClose.bind(Object(d.a)(a)),a.handleNewCommitteeUser=a.handleNewCommitteeUser.bind(Object(d.a)(a)),a.handleNewTanantUser=a.handleNewTanantUser.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleClose",value:function(){this.setState({showNewCommitteeModal:!1,showSignUpModal:!1,showNewTanantModal:!1})}},{key:"handleNewTanantUser",value:function(e){var t=this,a={color:"green"},n={color:"red"},r=new x.a.User;r.set("username",e.lname),r.set("email",e.email),r.set("apartment",e.apartment),r.set("isCommitteeMember",e.isCommitteeMember),r.set("community",this.props.activeUser.attributes.community),r.set("password",e.pwd),r.set("backupemail",e.email);var o=x.a.User.current().get("sessionToken");r.signUp().then((function(n){console.log(x.a.User.current()),x.a.User.become(o).then((function(e){console.log(x.a.User.current())}),(function(e){alert("error")})),console.log("User signed up",n),console.log(n.id);var r={vaad:t.props.activeUser.attributes.username,user_email:e.email,newTanantUserName:e.lname,apartment:e.apartment,password:e.pwd};T.a.send("default_service","new_tanant",r);var l=" \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9:   "+e.lname,i="  \u05d0\u05d9\u05de\u05d9\u05d9\u05dc:    "+e.email,s="   \u05e1\u05d9\u05e1\u05de\u05d0:    "+e.pwd;"#/tanants"===window.location.hash&&t.props.changeuser(n),t.setState({showSignUpModal:!0,titleText:"\u05e8\u05d9\u05e9\u05d5\u05dd \u05d3\u05d9\u05d9\u05e8 \u05d1\u05d5\u05e6\u05e2 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 !",bodyText1:" \u05d4\u05e2\u05d1\u05e8 \u05dc\u05d3\u05d9\u05d9\u05e8: ",bodyText2:l,bodyText3:i,bodyText4:s,colorstyle:a})})).catch((function(e){console.error("Error while signing up user",e),t.setState({showSignUpModal:!0,titleText:"\u05e8\u05d9\u05e9\u05d5\u05dd \u05d3\u05d9\u05d9\u05e8 \u05e0\u05db\u05e9\u05dc ",bodyText1:"\u05e9\u05dd \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea",bodyText2:"",bodyText3:"",bodyText4:"",colorstyle:n})}))}},{key:"handleNewCommitteeUser",value:function(e){var t=this,a={color:"green"},n={color:"red"},r=new x.a.User;r.set("username",e.lname),r.set("email",e.email),r.set("apartment",e.apartment),r.set("isCommitteeMember",e.isCommitteeMember);var o=new x.a.Object("Community");r.set("community",o),r.set("password",e.pwd),r.set("backupemail",e.email),r.signUp().then((function(n){console.log("User signed up",n),console.log(n.id);var r=x.a.Object.extend("Community");new x.a.Query(r).get(o.id).then((function(t){t.set("City",e.City),t.set("street",e.street),t.set("building",e.building),t.save().then((function(e){console.log("Updated Community",e)}),(function(e){console.error("Error while updating Community",e)}))})),t.setState({showSignUpModal:!0,titleText:"\u05e8\u05d9\u05e9\u05d5\u05dd \u05d7\u05d1\u05e8 \u05d5\u05e2\u05d3 \u05d1\u05d5\u05e6\u05e2 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4 !",bodyText1:"\u05d1\u05e6\u05e2 \u05db\u05e0\u05d9\u05e1\u05d4 \u05dc\u05d4\u05de\u05e9\u05da \u05e2\u05d1\u05d5\u05d3\u05d4",bodyText2:"",bodyText3:"",bodyText4:"",colorstyle:a})})).catch((function(e){var a=x.a.Object.extend("Community");new x.a.Query(a).get(o.id).then((function(e){e.destroy().then((function(e){console.log("Deleted Community",e)}),(function(e){console.error("Error while deleting Community",e)}))})),console.error("Error while signing up user",e),t.setState({showSignUpModal:!0,titleText:"\u05e8\u05d9\u05e9\u05d5\u05dd \u05d7\u05d1\u05e8 \u05d5\u05e2\u05d3 \u05e0\u05db\u05e9\u05dc ",bodyText1:"\u05e9\u05dd \u05e7\u05d9\u05d9\u05dd \u05d1\u05de\u05e2\u05e8\u05db\u05ea",bodyText2:"",bodyText3:"",bodyText4:"",colorstyle:n})}))}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.showNewCommitteeModal,o=a.showNewTanantModal,l=a.showSignUpModal,s=(a.isCommitteeMember,a.bodyText1),c=a.bodyText2,m=a.bodyText3,u=a.bodyText4,d=a.titleText,h=a.colorstyle,p=this.props,v=p.activeUser,E=p.isCommitteeUser,C=v?r.a.createElement(g.a.Link,{className:"navlink",href:"#/dashboard"},"\u05ea\u05e6\u05d5\u05d2\u05d5\u05ea"):null,f=v?r.a.createElement(g.a.Link,{className:"navlink",href:"#/tanants"},"\u05d3\u05d9\u05d9\u05e8\u05d9\u05dd"):null,j=v?r.a.createElement(g.a.Link,{className:"navlink",href:"#/messages"},"\u05d4\u05d5\u05d3\u05e2\u05d5\u05ea"):null,x=v?r.a.createElement(g.a.Link,{className:"navlink",href:"#/issues"},"\u05ea\u05e7\u05dc\u05d5\u05ea"):null,k=v?r.a.createElement(g.a.Link,{className:"navlink",href:"#/voting"},"\u05d4\u05e6\u05d1\u05e2\u05d5\u05ea"):null,N=v&&E?r.a.createElement(b.a,{title:"\u05e0\u05d9\u05d4\u05d5\u05dc \u05d5\u05e2\u05d3 \u05d1\u05d9\u05ea",id:"basic-nav-dropdown"},r.a.createElement(b.a.Item,{className:"diffcolor",onClick:function(){t.setState({showNewTanantModal:!0})}},"\u05e8\u05d9\u05e9\u05d5\u05dd \u05d3\u05d9\u05d9\u05e8\u05d9\u05dd"),r.a.createElement(b.a.Item,{href:"#action/1.2",className:"diffcolor"},"\u05e2\u05e8\u05d9\u05db\u05ea \u05e8\u05e9\u05d9\u05de\u05ea \u05d3\u05d9\u05d9\u05e8\u05d9\u05dd"),r.a.createElement(b.a.Item,{href:"#action/1.3",className:"diffcolor"},"\u05de\u05d7\u05d9\u05e7\u05ea \u05d3\u05d9\u05d9\u05e8\u05d9\u05dd"),r.a.createElement(b.a.Item,{href:"#action/1.4",className:"diffcolor"},"\u05d4\u05d7\u05dc\u05e3 \u05d5\u05e2\u05d3")):null,T=v?null:r.a.createElement(g.a.Link,{className:"navlink different",onClick:function(){t.setState({showNewCommitteeModal:!0})}},' \u05e8\u05d9\u05e9\u05d5\u05dd \u05d5\u05e2\u05d3 \u05d1\u05d9\u05ea \u05d7\u05d3\u05e9 (\u05de\u05d1\u05d5\u05e6\u05e2 \u05d1\u05e4\u05e2\u05dd \u05d4\u05e8\u05d0\u05e9\u05d5\u05e0\u05d4 \u05e2"\u05d9 \u05d5\u05e2\u05d3 \u05d4\u05d1\u05d9\u05ea ) '),L=v?null:r.a.createElement(g.a.Link,{className:"navlink",href:"#/login"}," \u05db\u05e0\u05d9\u05e1\u05d4 "),I=v?r.a.createElement(g.a.Link,{className:"navlink",href:"#/",onClick:this.props.handeLogout},"\u05d4\u05ea\u05e0\u05ea\u05e7"):null;return r.a.createElement("div",null,r.a.createElement(y.a,{className:"hebrew",bg:"primary",expand:"lg"},r.a.createElement(y.a.Brand,{className:"navlink",href:"#/"}," ",r.a.createElement("img",{src:"navbarpic.jpg",style:{width:"40px",marginLeft:"5px"}}),"\u05d5\u05e2\u05d3 \u05d1\u05d9\u05ea"),r.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(g.a,{className:"mr-auto"},N,C),r.a.createElement(g.a,{className:"mr-auto"},f),r.a.createElement(g.a,{className:"mr-auto"},j),r.a.createElement(g.a,{className:"mr-auto"},x),r.a.createElement(g.a,{className:"mr-auto"},k),r.a.createElement(g.a,{className:"mr-auto"},L),r.a.createElement(g.a,{className:"ml-auto"},T,I))),r.a.createElement(w,{activeUser:v,isCommitteeUser:E,show:n,handleClose:this.handleClose,handleNewCommitteeUser:this.handleNewCommitteeUser}),r.a.createElement(O,{activeUser:v,isCommitteeUser:E,show:o,handleClose:this.handleClose,handleNewTanantUser:this.handleNewTanantUser}),r.a.createElement(U,(e={show:l,handleClose:this.handleClose,titleText:d,bodyText1:s,bodyText2:c},Object(i.a)(e,"bodyText2",c),Object(i.a)(e,"bodyText3",m),Object(i.a)(e,"bodyText4",u),Object(i.a)(e,"colorstyle",h),e)))}}]),t}(n.Component),I=a(926),M=a(384),S=a.n(M),B=(a(759),a(760),{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:5},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}}),G=function(e){function t(e){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activeUser,a=e.isCommitteeUser;return r.a.createElement("div",{style:{width:"98%",margin:"auto"}},r.a.createElement(L,{activeUser:t,isCommitteeUser:a,handlelogin:this.handlelogin,handeLogout:this.handeLogout}),r.a.createElement(S.a,{className:"posfix",customTransition:"transform 300ms ease-in-out",swipeable:!0,responsive:B,stopOnHover:!1,arrows:!1,showStatus:!1,showIndicators:!1,showDots:!1,showThumbs:!1,autoPlay:!0,interval:"5000",infinite:!0},r.a.createElement("div",null,r.a.createElement("img",{src:"Byte2.jpg"})),r.a.createElement("div",null,r.a.createElement("img",{src:"Byte3.jpg"})),r.a.createElement("div",null,r.a.createElement("img",{src:"Byte4.jpg"})),r.a.createElement("div",null,r.a.createElement("img",{src:"home.jpg"})),r.a.createElement("div",null,r.a.createElement("img",{src:"commonhome.jpg"}))),r.a.createElement("div",{className:"backpic"},r.a.createElement(I.a,null,r.a.createElement("h4",{className:"headerbuild"},"   \u05d1\u05e8\u05d5\u05db\u05d9\u05dd \u05d4\u05d1\u05d0\u05d9\u05dd \u05dc\u05e0\u05d9\u05d4\u05d5\u05dc \u05d5\u05e2\u05d3 \u05d4\u05d1\u05d9\u05ea \u05e9\u05dc\u05d9 "),r.a.createElement("h5",{className:"headerbuild"},"     \u05d4\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4 \u05e9\u05ea\u05e2\u05d6\u05d5\u05e8 \u05dc\u05db\u05dd \u05dc\u05d7\u05d9\u05d9 \u05e7\u05d4\u05d9\u05dc\u05d4 \u05d8\u05d5\u05d1\u05d9\u05dd \u05d5\u05e9\u05db\u05e0\u05d5\u05ea \u05d8\u05d5\u05d1\u05d4"),r.a.createElement("footer",{className:"footerline"},r.a.createElement("h6",{className:"headerbuild"},"   \u05e0\u05db\u05ea\u05d1 \u05d5\u05e2\u05d5\u05e6\u05d1 \u05e2\u05dc \u05d9\u05d3\u05d9: \u05d0\u05d9\u05d9\u05dc \u05dc\u05d1",r.a.createElement("br",null),r.a.createElement("a",{href:"mailto:eyal18yaffa03@gmail.com"},"eyal18yaffa03@gmail.com"))))))}}]),t}(n.Component),D=(a(761),a(927)),V=a(928),H=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={lname:"",email:"",pwd:"",apartment:"",showInvalidLoginError:!1,redirectToTanantsPage:!1},a.handleInputChange=a.handleInputChange.bind(Object(d.a)(a)),a.login=a.login.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(i.a)({},n,a))}},{key:"login",value:function(){var e=this,t=this.props,a=t.handleLogin,n=(t.isCommitteeUser,this.state),r=n.lname,o=n.pwd;x.a.User.logIn(r,o).then((function(t){"undefined"!==typeof document&&console.log("Logged in user",t),a(t);var n=x.a.User.current();console.log(n);var r=new x.a.User;new x.a.Query(r).get(n.id).then((function(e){console.log("User found",e.attributes.isCommitteeMember)}),(function(e){console.error("Error while fetching user",e)})),e.setState({redirectToTanantsPage:!0})})).catch((function(t){console.error("Error while logging in user",t),e.setState({showInvalidLoginError:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.lname,a=(e.email,e.pwd),n=(e.apartment,e.showInvalidLoginError);if(e.redirectToTanantsPage)return r.a.createElement(p.a,{to:"/tanants"});var o=n?r.a.createElement(D.a,{variant:"danger"},"\u05e9\u05dd \u05d0\u05d5 \u05e1\u05d9\u05e1\u05de\u05d0 \u05e9\u05d2\u05d5\u05d9\u05d9\u05dd \u05d0\u05d5 \u05dc\u05d0 \u05d1\u05de\u05e2\u05e8\u05db\u05ea , \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1"):null;return r.a.createElement("div",{className:"p-login"},r.a.createElement("div",{className:"main"},r.a.createElement("h1",null,"\u05db\u05e0\u05d9\u05e1\u05ea \u05d3\u05d9\u05d9\u05e8 \u05d0\u05d5 \u05d7\u05d1\u05e8 \u05d5\u05e2\u05d3"),o,r.a.createElement(E.a,null,r.a.createElement(E.a.Group,{as:V.a,controlId:"formBasicEmail"},r.a.createElement(E.a.Label,{column:!0,sm:"6"},"\u05e9\u05dd \u05d4\u05d3\u05d9\u05d9\u05e8"),r.a.createElement(E.a.Control,{name:"lname",value:t,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",onChange:this.handleInputChange})),r.a.createElement(E.a.Group,{as:V.a,controlId:"formBasicPassword1"},r.a.createElement(E.a.Label,{column:!0,sm:"6"},"\u05e1\u05d9\u05e1\u05de\u05d0"),r.a.createElement(E.a.Control,{name:"pwd",value:a,type:"password",placeholder:"\u05e1\u05d9\u05e1\u05de\u05d0",onChange:this.handleInputChange})),r.a.createElement(f.a,{variant:"success",type:"button",block:!0,onClick:this.login},"\u05d4\u05d9\u05db\u05e0\u05e1"))))}}]),t}(n.Component),A=(a(762),a(48)),Q=a.n(A),_=(a(763),a(929)),q=(a(764),a(937)),z=function(e){function t(e){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.user,t=e.isCommitteeMember?{width:"18rem",backgroundColor:"hsl(207, 48%, 85%)",marginBottom:"15px"}:{width:"18rem",backgroundColor:"#e9ecef",marginBottom:"15px"},a=e.isCommitteeMember?" \u05d5\u05e2\u05d3 \u05d4\u05d1\u05d9\u05ea":"\u05d3\u05d9\u05d9\u05e8\u05d9\u05dd",n="mailto:"+e.backupemail;return r.a.createElement("div",{className:"user"},r.a.createElement(q.a,{border:"primary",style:t},r.a.createElement(q.a.Header,{style:{margin:"auto",fontWeight:"bold",textDecoration:"underline"}}," ",a," ",r.a.createElement("br",null)," \u05de\u05e9\u05e4\u05d7\u05ea : ",e.lname," "),r.a.createElement(q.a.Body,null,r.a.createElement(q.a.Title,null," : \u05d0\u05d9\u05de\u05d9\u05d9\u05dc",r.a.createElement("br",null),r.a.createElement("a",{href:n}," ",e.backupemail)," "),r.a.createElement(q.a.Text,null,e.apartment," : \u05d3\u05d9\u05e8\u05d4 \u05de\u05e1\u05e4\u05e8"))))}}]),t}(n.Component),Z=function e(t){Object(s.a)(this,e),this.id=t.id,this.City=t.get("City"),this.street=t.get("street"),this.bulding=t.get("building")},F=(a(765),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={users:[]},a.updateUsers=a.updateUsers.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"updateUsers",value:function(e){this.setState({users:this.state.users.concat(new k(e))})}},{key:"componentDidMount",value:function(){var e,t,a,n,r,o,l,i,s=this;return Q.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.props.activeUser){c.next=17;break}return e=x.a.Object.extend("User"),(t=new x.a.Query(e)).equalTo("community",this.props.activeUser.attributes.community),c.next=6,Q.a.awrap(t.find());case 6:return a=c.sent,a.map((function(e){new k(e),s.updateUsers(e)})),n=t._where.community.objectId,r=x.a.Object.extend("Community"),(o=new x.a.Query(r)).equalTo("objectId",n),c.next=14,Q.a.awrap(o.find());case 14:l=c.sent,i=new Z(l[0]),this.props.handleGetCommunity(i);case 17:case"end":return c.stop()}}),null,this)}},{key:"render",value:function(){var e=this.props,t=e.activeUser,a=e.isCommitteeUser,n=e.handeLogout,o=e.mycommunity,l=this.state,i=l.users,s=l.community;if(console.log(s),!t)return r.a.createElement(p.a,{to:"/"});var c=(new Date).getHours(),m=r.a.createElement("h1",null);m=c>4&&c<11?r.a.createElement("h1",{className:"textbuild"}," \u05d1\u05d5\u05e7\u05e8 \u05d8\u05d5\u05d1 :",t.attributes.username,"    "):c>11&&c<16?r.a.createElement("h1",{className:"textbuild"}," \u05e6\u05d4\u05e8\u05d9\u05d9\u05dd \u05d8\u05d5\u05d1\u05d9\u05dd :",t.attributes.username,"    "):c>16&&c<18?r.a.createElement("h1",{className:"textbuild"}," \u05d0\u05d7\u05e8 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd \u05d8\u05d5\u05d1\u05d9\u05dd : ",t.attributes.username,"    "):c>18&&c<21?r.a.createElement("h1",{className:"textbuild"}," \u05e2\u05e8\u05d1 \u05d8\u05d5\u05d1 : ",t.attributes.username,"    "):r.a.createElement("h1",{className:"textbuild"}," \u05dc\u05d9\u05dc\u05d4 \u05d8\u05d5\u05d1 :",t.attributes.username,"    ");var u=i.map((function(e){return r.a.createElement(C.a,{lg:4,md:6,key:e.id},r.a.createElement(z,{user:e}))})),d=null==o?r.a.createElement("h1",{className:"textbuild"},"    "):r.a.createElement("h1",{className:"textbuild"},"      ",o.street,"  ",o.bulding," ",o.City,"  "),h="#/dashboard"===window.location.hash?null:r.a.createElement(L,{className:"posfix",activeUser:t,isCommitteeUser:a,handeLogout:n,changeuser:this.updateUsers});return r.a.createElement("div",null,h,r.a.createElement(_.a,null,r.a.createElement("div",{className:"users-header"},d,m),r.a.createElement(V.a,{className:"padding"},u)))}}]),t}(n.Component)),R=(a(767),a(935)),W=function e(t){Object(s.a)(this,e),this.id=t.id,this.createdBy=t.get("createdBy"),this.createdAt=t.get("createdAt"),this.community=t.get("community"),this.title=t.get("title"),this.details=t.get("details"),this.priority=t.get("priority"),this.comments=t.get("comments")},P=(a(768),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleOptionChange=function(e){a.setState({priority:e.target.value})},a.state={createdBy:"",community:null,title:"",details:"",priority:"\u05e8\u05d2\u05d9\u05dc\u05d4",comments:""},a.handleInputChange=a.handleInputChange.bind(Object(d.a)(a)),a.createMessage=a.createMessage.bind(Object(d.a)(a)),a.handleOptionChange=a.handleOptionChange.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(i.a)({},n,a))}},{key:"createMessage",value:function(){var e=this.state,t={createdBy:e.createdBy,community:e.community,title:e.title,details:e.details,priority:e.priority,comments:e.comments};this.props.handleNewMessage(t),this.props.handleClose(),this.setState({createdBy:"",community:null,title:"",details:"",priority:"\u05e8\u05d2\u05d9\u05dc\u05d4",comments:""})}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.handleClose,n=this.state,o=(n.createdBy,n.community,n.title),l=n.details,i=(n.priority,n.comments);return r.a.createElement(v.a,{className:"align_right",show:t,onHide:a},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,"\u05d4\u05d5\u05d3\u05e2\u05d4 \u05d7\u05d3\u05e9\u05d4")),r.a.createElement(v.a.Body,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"\u05db\u05d5\u05ea\u05e8\u05ea"),r.a.createElement(E.a.Control,{name:"title",value:o,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05d0\u05ea \u05db\u05d5\u05ea\u05e8\u05ea \u05d4\u05d4\u05d5\u05d3\u05e2\u05d4",onChange:this.handleInputChange})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"\u05e4\u05e8\u05d8\u05d9\u05dd"),r.a.createElement(E.a.Control,{name:"details",value:l,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05d0\u05ea \u05e4\u05e8\u05d8\u05d9\u05d9 \u05d4\u05d4\u05d5\u05d3\u05e2\u05d4",onChange:this.handleInputChange})),r.a.createElement("fieldset",null,r.a.createElement(E.a.Group,{as:V.a},r.a.createElement(E.a.Label,{as:"legend",column:!0,sm:2},"\u05e2\u05d3\u05d9\u05e4\u05d5\u05ea"),r.a.createElement(C.a,{sm:10},r.a.createElement(E.a.Check,{type:"radio",label:"\u05e8\u05d2\u05d9\u05dc\u05d4",name:"formHorizontalRadios",value:"\u05e8\u05d2\u05d9\u05dc\u05d4",checked:"\u05e8\u05d2\u05d9\u05dc\u05d4"===this.state.priority,id:"formHorizontalRadios1",onChange:this.handleOptionChange}),r.a.createElement(E.a.Check,{type:"radio",label:"\u05d2\u05d1\u05d5\u05d4\u05d4",name:"formHorizontalRadios",value:"\u05d2\u05d1\u05d5\u05d4\u05d4",checked:"\u05d2\u05d1\u05d5\u05d4\u05d4"===this.state.priority,id:"formHorizontalRadios2",onChange:this.handleOptionChange}),r.a.createElement(E.a.Check,{type:"radio",label:"\u05d3\u05d7\u05d5\u05e4\u05d4",name:"formHorizontalRadios",value:"\u05d3\u05d7\u05d5\u05e4\u05d4",checked:"\u05d3\u05d7\u05d5\u05e4\u05d4"===this.state.priority,id:"formHorizontalRadios3",onChange:this.handleOptionChange})))),r.a.createElement(E.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(E.a.Label,null,"\u05d4\u05e2\u05e8\u05d5\u05ea"),r.a.createElement(E.a.Control,{as:"textarea",rows:"3",name:"comments",value:i,onChange:this.handleInputChange})))),r.a.createElement(v.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:a},"\u05d1\u05d8\u05dc"),r.a.createElement(f.a,{variant:"primary",onClick:this.createMessage},"\u05e6\u05d5\u05e8 \u05d4\u05d5\u05d3\u05e2\u05d4")))}}]),t}(n.Component)),K=a(385);function Y(){var e=Object(K.a)(["\n  color: #909090;\n  background-color: transparent;\n  font-weight: bold;\n  outline: none;\n  border: 0;\n  cursor: pointer;\n  font-size: 22px;\n  transition: all 0.3s ease-in-out;\n  margin: 0 15px;\n  width: 25px;\n\n  &:hover {\n    color: #333333;\n  }\n\n  &:focus {\n    outline: none;\n  }\n"]);return Y=function(){return e},e}a(386).a.button(Y()),q.a.Body,q.a.Header,q.a.Title;var J=function(e){function t(e){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.message,t={backgroundColor:"rgb(220,220,220)"};t="\u05e8\u05d2\u05d9\u05dc\u05d4"===e.priority?{backgroundColor:"rgb(220,220,220)"}:"\u05d2\u05d1\u05d5\u05d4\u05d4"===e.priority?{backgroundColor:"yellow"}:{backgroundColor:"orange"};var a=e.createdAt.toLocaleString();return r.a.createElement("div",null,r.a.createElement(q.a,null,r.a.createElement(R.a.Toggle,{as:q.a.Header,eventKey:e.id,style:t},r.a.createElement("div",{className:"buttonHeader"},r.a.createElement("span",{style:{color:"blue",fontWeight:"bold"}}," ",e.title," "),r.a.createElement("img",{src:"balckV.png",style:{width:"20px",float:"left",margin:"0 5px"}})," ",r.a.createElement("span",{style:{color:"green",fontWeight:"bold",textAlign:"center",marginLeft:"5px",float:"left"}},"  \u05e0\u05d5\u05e6\u05e8\u05d4 \u05e2\u05dc \u05d9\u05d3\u05d9:   ",e.createdBy," ",r.a.createElement("br",null),a," "))),r.a.createElement(R.a.Collapse,{eventKey:e.id},r.a.createElement(q.a.Body,null,e.details,r.a.createElement("br",null),e.comments," "))))}}]),t}(n.Component),$=a(198),X=(q.a.Body,q.a.Header,q.a.Title,function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={messages:[],showNewMessageModal:!1},a.handleClose=a.handleClose.bind(Object(d.a)(a)),a.handleNewMessage=a.handleNewMessage.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,r,o,l,i,s,c,m;return Q.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(!this.props.activeUser){u.next=26;break}return e=x.a.Object.extend("User"),(t=new x.a.Query(e)).equalTo("community",this.props.activeUser.attributes.community),u.next=6,Q.a.awrap(t.find());case 6:return u.sent,a=t._where.community.objectId,n=x.a.Object.extend("Community"),(r=new x.a.Query(n)).equalTo("objectId",a),u.next=13,Q.a.awrap(r.find());case 13:return o=u.sent,l=new Z(o[0]),this.props.handleGetCommunity(l),i=x.a.Object.extend("message"),(s=new x.a.Query(i)).equalTo("community",this.props.activeUser.attributes.community),u.next=21,Q.a.awrap(s.find());case 21:c=u.sent,(m=c.map((function(e){return new W(e)}))).sort((function(e,t){return(e=new Date(e.createdAt))>(t=new Date(t.createdAt))?-1:e<t?1:0})),this.setState({messages:m}),console.log(m);case 26:case"end":return u.stop()}}),null,this)}},{key:"handleClose",value:function(){this.setState({showNewMessageModal:!1})}},{key:"handleNewMessage",value:function(e){var t=this,a=this.props,n=a.activeUser,r=(a.isCommitteeUser,a.handeLogout,new(x.a.Object.extend("message")));r.set("createdBy",n.attributes.username),r.set("title",e.title),r.set("details",e.details),r.set("priority",e.priority),r.set("community",n.attributes.community),r.set("comments",e.comments),r.save().then((function(e){console.log("Message created",e),t.setState({messages:t.state.messages.concat(new W(e)).sort((function(e,t){return(e=new Date(e.createdAt))>(t=new Date(t.createdAt))?-1:e<t?1:0}))})}),(function(e){console.error("Error while creating Message: ",e)}))}},{key:"getChartData",value:function(e){var t=[0,0,0];return e.forEach((function(e){"\u05e8\u05d2\u05d9\u05dc\u05d4"===e.priority?++t[0]:"\u05d2\u05d1\u05d5\u05d4\u05d4"===e.priority?++t[1]:++t[2]})),{labels:["\u05e8\u05d2\u05d9\u05dc\u05d4","\u05d2\u05d1\u05d5\u05d4\u05d4","\u05d3\u05d7\u05d5\u05e4\u05d4"],datasets:[{data:t,backgroundColor:["rgb(220,220,220)","yellow","orange"],hoverBackgroundColor:["rgb(120,120,120)","greenyellow","rgb(210,151,100)"]}]}}},{key:"render",value:function(){var e=this,t=this.state,a=t.showNewMessageModal,n=t.messages,o=this.getChartData(n),l=this.props,i=l.activeUser,s=l.isCommitteeUser,c=l.handeLogout,m=l.mycommunity;if(!i)return r.a.createElement(p.a,{to:"/"});var u=n.map((function(e){return r.a.createElement(C.a,{lg:12,md:12,key:e.id},r.a.createElement(J,{message:e}))})),d=null==m?r.a.createElement("h1",{className:"textbuild"},"   \u05d4\u05d5\u05d3\u05e2\u05d5\u05ea  : "):r.a.createElement("h1",{className:"textbuild"},"  \u05d4\u05d5\u05d3\u05e2\u05d5\u05ea  :     ",m.street,"  ",m.bulding," ",m.City,"  "),h="#/dashboard"===window.location.hash?null:r.a.createElement(L,{className:"posfix",activeUser:i,isCommitteeUser:s,handeLogout:c,changeuser:this.updateUsers}),g="#/dashboard"===window.location.hash?null:d;return r.a.createElement("div",{className:"Hebrew"},h,g,r.a.createElement(f.a,{className:"createb",onClick:function(){e.setState({showNewMessageModal:!0})}},"\u05e6\u05d5\u05e8 \u05d4\u05d5\u05d3\u05e2\u05d4 \u05d7\u05d3\u05e9\u05d4"),r.a.createElement("div",{className:"floatchart"},r.a.createElement("div",{style:{width:"50%"}},r.a.createElement(R.a,{className:"rightitem",defaultActiveKey:"0"},u)),r.a.createElement("div",{style:{width:"50%"}},r.a.createElement($.a,{className:"leftitem",data:o}))),r.a.createElement(P,{activeUser:i,isCommitteeUser:s,show:a,handleClose:this.handleClose,handleNewMessage:this.handleNewMessage}))}}]),t}(n.Component)),ee=(a(860),a(861),a(391)),te=a.n(ee),ae=(a(862),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({dueDate:e})},a.handleOptionChange=function(e){a.setState({priority:e.target.value})},a.state={createdBy:"",title:"",details:"",dueDate:new Date,votes:[],options:[],comments:""},a.handleInputChange=a.handleInputChange.bind(Object(d.a)(a)),a.createVoting=a.createVoting.bind(Object(d.a)(a)),a.handleOptionChange=a.handleOptionChange.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;if("checkbox"==t.type)if(this.state.options.includes(t.name))for(var r=0;r<this.state.options.length;r++)this.state.options[r]===t.name&&this.state.options.splice(r,1);else this.setState({options:this.state.options.concat(t.name)});else this.setState(Object(i.a)({},n,a))}},{key:"createVoting",value:function(){var e=this.state,t=e.createdBy,a=(e.createdAt,{createdBy:t,title:e.title,details:e.details,dueDate:e.dueDate,votes:e.votes,options:e.options});this.props.handleNewVoting(a),this.props.handleClose(),this.setState({createdBy:"",title:"",details:"",dueDate:new Date,votes:[],options:[],comments:""})}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.handleClose,n=this.state,o=(n.createdBy,n.createdAt,n.title),l=n.details;n.dueDate,n.votes,n.options,n.comments;return r.a.createElement(v.a,{className:"align_right",show:t,onHide:a},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,"\u05d4\u05e6\u05d1\u05e2\u05d4 \u05d7\u05d3\u05e9\u05d4")),r.a.createElement(v.a.Body,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"\u05db\u05d5\u05ea\u05e8\u05ea"),r.a.createElement(E.a.Control,{name:"title",value:o,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05d0\u05ea \u05db\u05d5\u05ea\u05e8\u05ea \u05d4\u05d4\u05e6\u05d1\u05e2\u05d4",onChange:this.handleInputChange})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"\u05e4\u05e8\u05d8\u05d9\u05dd"),r.a.createElement(E.a.Control,{name:"details",value:l,type:"text",placeholder:"\u05d4\u05db\u05e0\u05e1 \u05d0\u05ea \u05e4\u05e8\u05d8\u05d9\u05d9 \u05d4\u05d4\u05e6\u05d1\u05e2\u05d4",onChange:this.handleInputChange})),r.a.createElement(E.a.Group,{as:V.a,controlId:"formHorizontalCheck"},r.a.createElement(C.a,{sm:{span:10,offset:4}},r.a.createElement(E.a.Check,{label:"\u05d1\u05e2\u05d3",type:"checkbox",value:"\u05d1\u05e2\u05d3",name:"\u05d1\u05e2\u05d3",onChange:this.handleInputChange}),r.a.createElement(E.a.Check,{label:"\u05e0\u05d2\u05d3",type:"checkbox",value:"\u05e0\u05d2\u05d3",name:"\u05e0\u05d2\u05d3",onChange:this.handleInputChange}),r.a.createElement(E.a.Check,{label:"\u05e0\u05de\u05e0\u05e2",type:"checkbox",value:"\u05e0\u05de\u05e0\u05e2",name:"\u05e0\u05de\u05e0\u05e2",onChange:this.handleInputChange}))),r.a.createElement(E.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(E.a.Label,null,"\u05ea\u05d0\u05e8\u05d9\u05da \u05e1\u05d9\u05d5\u05dd \u05d4\u05e6\u05d1\u05e2\u05d4"),r.a.createElement(te.a,{selected:this.state.dueDate,onChange:this.handleChange,showTimeSelect:!0,dateFormat:"Pp"})))),r.a.createElement(v.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:a},"\u05d1\u05d8\u05dc"),r.a.createElement(f.a,{variant:"primary",onClick:this.createVoting},"\u05e6\u05d5\u05e8 \u05d4\u05e6\u05d1\u05e2\u05d4")))}}]),t}(n.Component)),ne=function e(t){Object(s.a)(this,e),this.id=t.id,this.createdBy=t.get("createdBy"),this.createdAt=t.get("createdAt"),this.community=t.get("community"),this.title=t.get("title"),this.details=t.get("details"),this.dueDate=t.get("dueDate"),this.votes=t.get("votes"),this.options=t.get("options")},re=function e(t){Object(s.a)(this,e),this.id=t.id,this.votedBy=t.get("votedBy"),this.vote=t.get("vote"),this.voteId=t.get("voteId")},oe=(a(919),a(930)),le=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={currentvote:null,alreadyVote:a.props.alreadyVote},a.handlesetVote=a.handlesetVote.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handlesetVote",value:function(e,t){this.props.setVote(e,t)}},{key:"render",value:function(){for(var e=this,t=this.props,a=t.voting,n=t.myvoting,o=this.state.alreadyVote||this.props.alreadyVote,l=[],i=0;i<a.options.length;i++)"\u05d1\u05e2\u05d3"===a.options[i]?l.push("success"):"\u05e0\u05d2\u05d3"===a.options[i]?l.push("danger"):l.push("secondary");if(n.length>0&&!o)for(var s=!1,c=0;c<n.length&&!s;c++)n[c].voteId.id===a.id&&(s=!0,this.setState({alreadyVote:!0}));var m=a.options.map((function(t,n){return r.a.createElement(f.a,{variant:l[n],className:"needmargin",onClick:function(){e.handlesetVote(a,t)}},t)})),u=a.options.map((function(t,n){return r.a.createElement(f.a,{variant:l[n],className:"needmargin",disabled:!0,onClick:function(){e.handlesetVote(a,t)}},t)})),d=(new Date).getTime()>a.dueDate.getTime(),h=(r.a.createElement("p",null),m);o&&!d?h=r.a.createElement("p",{style:{color:"red",fontWeight:"bold"}}," \u05d4\u05e6\u05d1\u05e2\u05ea \u05db\u05d1\u05e8 \u05d1\u05d4\u05e6\u05d1\u05e2\u05d4 \u05d6\u05d5"):!o&&d?h=r.a.createElement("p",{style:{color:"red",fontWeight:"bold"}}," \u05dc\u05d0 \u05d4\u05e6\u05d1\u05e2\u05ea  \u05d1\u05d4\u05e6\u05d1\u05e2\u05d4 \u05d6\u05d5 ",r.a.createElement("br",null)," \u05d5\u05ea\u05d0\u05e8\u05d9\u05da \u05e1\u05d5\u05e3 \u05d4\u05e6\u05d1\u05e2\u05d4 \u05e2\u05d1\u05e8"):o&&d&&(h=r.a.createElement("p",{style:{color:"red",fontWeight:"bold"}}," \u05d4\u05e6\u05d1\u05e2\u05ea \u05db\u05d1\u05e8 \u05d1\u05d4\u05e6\u05d1\u05e2\u05d4 \u05d6\u05d5 ",r.a.createElement("br",null)," \u05d5\u05ea\u05d0\u05e8\u05d9\u05da \u05e1\u05d5\u05e3 \u05d4\u05e6\u05d1\u05e2\u05d4 \u05e2\u05d1\u05e8"));var p=o||d?u:null,g=String(a.dueDate.getDate()).padStart(2,"0"),b=String(a.dueDate.getMonth()+1).padStart(2,"0")+"/"+g+"/"+a.dueDate.getFullYear()+" \u05d1\u05e9\u05e2\u05d4 : "+a.dueDate.getHours()+":00";return r.a.createElement("div",{className:"user"},r.a.createElement(q.a,null,r.a.createElement(q.a.Header,null,a.title),r.a.createElement(q.a.Body,null,r.a.createElement(q.a.Title,null,a.details),r.a.createElement(q.a.Text,null,"\u05ea\u05d0\u05e8\u05d9\u05da \u05d0\u05d7\u05e8\u05d5\u05df \u05dc\u05d4\u05e6\u05d1\u05e2\u05d4 : ",b),r.a.createElement(oe.a,{size:"lg"},h,p))))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={votings:[],myvoting:[],showNewVotingModal:!1,alreadyVote:[]},a.setVote=a.setVote.bind(Object(d.a)(a)),a.handleClose=a.handleClose.bind(Object(d.a)(a)),a.handleNewVoting=a.handleNewVoting.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e,t,a,n,r,o,l,i,s,c,m,u,d,h,p;return Q.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(!this.props.activeUser){g.next=33;break}return e=x.a.Object.extend("User"),(t=new x.a.Query(e)).equalTo("community",this.props.activeUser.attributes.community),g.next=6,Q.a.awrap(t.find());case 6:return g.sent,a=t._where.community.objectId,n=x.a.Object.extend("Community"),(r=new x.a.Query(n)).equalTo("objectId",a),g.next=13,Q.a.awrap(r.find());case 13:return o=g.sent,l=new Z(o[0]),this.props.handleGetCommunity(l),i=x.a.Object.extend("voting"),(s=new x.a.Query(i)).equalTo("community",this.props.activeUser.attributes.community),g.next=21,Q.a.awrap(s.find());case 21:return c=g.sent,(m=c.map((function(e){return new ne(e)}))).sort((function(e,t){return(e=new Date(e.createdAt))>(t=new Date(t.createdAt))?-1:e<t?1:0})),this.setState({votings:m}),u=x.a.Object.extend("Vote"),(d=new x.a.Query(u)).equalTo("votedBy",this.props.activeUser),g.next=30,Q.a.awrap(d.find());case 30:h=g.sent,p=h.map((function(e){return new re(e)})),this.setState({myvoting:p});case 33:case"end":return g.stop()}}),null,this)}},{key:"handleClose",value:function(){this.setState({showNewVotingModal:!1})}},{key:"handleNewVoting",value:function(e){var t=this,a=this.props,n=a.activeUser,r=(a.isCommitteeUser,a.handeLogout,new(x.a.Object.extend("voting")));r.set("createdBy",n),r.set("community",n.attributes.community),r.set("title",e.title),r.set("details",e.details),r.set("dueDate",e.dueDate),r.set("votes",e.votes),r.set("options",e.options),r.save().then((function(e){console.log("voting created",e),t.setState({votings:t.state.votings.concat(new ne(e)).sort((function(e,t){return(e=new Date(e.createdAt))>(t=new Date(t.createdAt))?-1:e<t?1:0}))})}),(function(e){console.error("Error while creating voting: ",e)}))}},{key:"setVote",value:function(e,t){var a=this,n=this.props.activeUser,r=(this.state.alreadyVote,x.a.Object.extend("voting")),o=new x.a.Query(r),l={votedBy:n.id,vote:t};e.votes.push(l);o.get(e.id).then((function(o){o.set("votes",e.votes),o.save().then((function(e){var l=new(x.a.Object.extend("Vote"));new x.a.Query(r);l.set("votedBy",n),l.set("vote",t),l.set("voteId",o),l.save().then((function(e){console.log("Vote created",e),a.setState({myvoting:a.state.myvoting.concat(new re(e))})}),(function(e){console.error("Error while creating Vote: ",e)})),console.log("Updated voting",e)}),(function(e){console.error("Error while updating voting",e)}))}))}},{key:"getChartData",value:function(e){for(var t=[0,0,0],a=0;a<e.votes.length;a++)"\u05d1\u05e2\u05d3"===e.votes[a].vote?++t[0]:"\u05e0\u05d2\u05d3"===e.votes[a].vote?++t[1]:++t[2];return{labels:["\u05d1\u05e2\u05d3","\u05e0\u05d2\u05d3","\u05e0\u05de\u05e0\u05e2\u05d9\u05dd"],datasets:[{data:t,backgroundColor:["green","red","gray"],hoverBackgroundColor:["green","red","gray"]}]}}},{key:"render",value:function(){for(var e=this,t=this.props,a=t.activeUser,n=t.isCommitteeUser,o=t.handeLogout,l=t.mycommunity,i=this.state,s=i.votings,c=i.alreadyVote,m=i.myvoting,u=i.showNewVotingModal,d=[],h=0;h<s.length;h++)d.push(this.getChartData(s[h]));if(!a)return r.a.createElement(p.a,{to:"/"});var g=null==l?r.a.createElement("h1",{className:"textbuild"},"   \u05d4\u05e6\u05d1\u05e2\u05d5\u05ea  : "):r.a.createElement("h1",{className:"textbuild"},"  \u05d4\u05e6\u05d1\u05e2\u05d5\u05ea   :     ",l.street,"  ",l.bulding," ",l.City,"  "),b="#/dashboard"===window.location.hash?null:g,y=s.length>0?s.map((function(t,a){return r.a.createElement(C.a,{lg:12,md:12,key:t.id},r.a.createElement("div",{className:"container d-flex center users-header "},r.a.createElement("div",{className:"rightitem"},r.a.createElement(le,{voting:t,setVote:e.setVote,alreadyVote:c[a],myvoting:m})),r.a.createElement("div",{className:"rightitem"},r.a.createElement($.a,{data:d[a]}))))})):s.map((function(t,a){return r.a.createElement(C.a,{lg:12,md:12,key:t.id},r.a.createElement("div",{className:"container flex center"},r.a.createElement(le,{voting:t,setVote:e.setVote,alreadyVote:c[a],myvoting:m})))}));console.log("voteview"),console.log(y);var v=n?r.a.createElement(f.a,{className:"createb",onClick:function(){e.setState({showNewVotingModal:!0})}},"\u05e6\u05d5\u05e8 \u05d4\u05e6\u05d1\u05e2\u05d4 \u05d7\u05d3\u05e9\u05d4"):r.a.createElement(f.a,{className:"createb",disabled:!0,onClick:function(){e.setState({showNewVotingModal:!0})}},"\u05e6\u05d5\u05e8 \u05d4\u05e6\u05d1\u05e2\u05d4 \u05d7\u05d3\u05e9\u05d4"),E="#/dashboard"===window.location.hash?null:r.a.createElement(L,{activeUser:a,isCommitteeUser:n,handeLogout:o});return r.a.createElement("div",{className:"Hebrew"},E,b,v,y,r.a.createElement(ae,{activeUser:a,isCommitteeUser:n,show:u,handleClose:this.handleClose,handleNewVoting:this.handleNewVoting}))}}]),t}(n.Component),se=function(e){function t(e){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activeUser,a=e.committeeUser,n=e.handeLogout,o=e.mycommunity,l=e.isCommitteeUser,i=e.handleGetCommunity;if(!t)return r.a.createElement(p.a,{to:"/"});var s=null==o?r.a.createElement("h1",{className:"textbuild"},"   \u05ea\u05e6\u05d5\u05d2\u05d5\u05ea  : "):r.a.createElement("h1",{className:"textbuild"},"  \u05ea\u05e6\u05d5\u05d2\u05d5\u05ea   :     ",o.street,"  ",o.bulding," ",o.City,"  ");return(r.a.createElement("div",null,r.a.createElement(L,{activeUser:t,committeeUser:a,handeLogout:n}),s,r.a.createElement(V.a,{className:"justify-content-md-center"},r.a.createElement(C.a,{xs:!0,lg:"7",md:"12"},r.a.createElement("div",{className:"rightitem scroolbar"},r.a.createElement(ie,{activeUser:t,handeLogout:this.handeLogout,isCommitteeUser:l,mycommunity:o,handleGetCommunity:i}))),r.a.createElement(C.a,{xs:!0,lg:"5",md:"12"},r.a.createElement("div",{className:"rightitem scroolbar"},r.a.createElement(X,{activeUser:t,handeLogout:this.handeLogout,isCommitteeUser:l,mycommunity:o,handleGetCommunity:i}))))))}}]),t}(n.Component),ce=(a(920),function(e){function t(e){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).call(this,e))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activeUser,a=e.committeeUser,n=e.handeLogout;return t?r.a.createElement("div",null,r.a.createElement(L,{activeUser:t,committeeUser:a,handeLogout:n}),r.a.createElement("h1",null,"I'm Issues Page")):r.a.createElement(p.a,{to:"/"})}}]),t}(n.Component)),me=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).handleGetCommunity=function(e){a.setState({mycommunity:e})},a.state={activeUser:x.a.User.current(),committeeUser:null,isCommitteeUser:null!=x.a.User.current()?x.a.User.current().attributes.isCommitteeMember:null,mycommunity:null},a.handleLogin=a.handleLogin.bind(Object(d.a)(a)),a.handeLogout=a.handeLogout.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handleLogin",value:function(e){this.setState({activeUser:e,isCommitteeUser:e.attributes.isCommitteeMember})}},{key:"handeLogout",value:function(){x.a.User.current()&&x.a.User.logOut(),this.setState({activeUser:null,isCommitteeUser:!1})}},{key:"render",value:function(){var e,t=this.state,a=t.activeUser,n=(t.committeeUser,t.isCommitteeUser),o=t.mycommunity;return r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(G,{activeUser:a,isCommitteeUser:n,handeLogout:this.handeLogout})),r.a.createElement(p.b,{exact:!0,path:"/login"},r.a.createElement(H,{handleLogin:this.handleLogin,isCommitteeUser:n})),r.a.createElement(p.b,{exact:!0,path:"/dashboard"},r.a.createElement(se,{activeUser:a,handeLogout:this.handeLogout,mycommunity:o,isCommitteeUser:n,handleGetCommunity:this.handleGetCommunity})),r.a.createElement(p.b,{exact:!0,path:"/tanants"},r.a.createElement(F,(e={activeUser:a,handeLogout:this.handeLogout,isCommitteeUser:n},Object(i.a)(e,"handeLogout",this.handeLogout),Object(i.a)(e,"handleGetCommunity",this.handleGetCommunity),Object(i.a)(e,"mycommunity",o),e))),r.a.createElement(p.b,{exact:!0,path:"/messages"},r.a.createElement(X,{activeUser:a,handeLogout:this.handeLogout,isCommitteeUser:n,handleGetCommunity:this.handleGetCommunity,mycommunity:o})),r.a.createElement(p.b,{exact:!0,path:"/issues"},r.a.createElement(ce,{activeUser:a,handeLogout:this.handeLogout,isCommitteeUser:n})),r.a.createElement(p.b,{exact:!0,path:"/voting"},r.a.createElement(ie,{activeUser:a,handeLogout:this.handeLogout,isCommitteeUser:n,handleGetCommunity:this.handleGetCommunity,mycommunity:o})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=a(56);x.a.serverURL="https://parseapi.back4app.com",x.a.initialize("HSnCD0iQZOWlFq55YJw9zeI3hkrd9QDK3jImQlKY","4bGuPBpfk0sklFk9Dy2HzOqzy2xq0rahKa6s1Ox3"),T.a.init("user_L3W5QWi2RgoYnIAqoxGa2"),l.a.render(r.a.createElement(ue.a,null,r.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[395,1,2]]]);
//# sourceMappingURL=main.52524f16.chunk.js.map